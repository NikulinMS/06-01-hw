# Домашнее задание к занятию "`Типы и структура СУБД`" - `Никулин Михаил Сергеевич`



---

### Задание 1

- Электронные чеки в json виде

здесь подойдет документоориентированная СУБД, так как в качестве объекта хранения выступает документ определенного шаблона в конкретном формате json. А в качестве ключа выступает идентификатор.
- Склады и автомобильные дороги для логистической компании

здесь можно выбрать графовый тип СУБД. Адреса и названия складов представляют из себя узлы, а дороги, по которым происходит перемещение между этими складами, представляют ребра графовой структуры.
- Генеалогические деревья

я бы использовал графовый тип СУБД. Элементы базы данных хранятся в узлах (вершинах), между узлами существуют ребра, которые определяют отношения элементов друг к другу. У ребра есть начальный и конечный узел, направление и тип (связи действия, права владения, «родитель — ребёнок» и пр.). Главная особенность графовых БД — хранение не только сущностей данных, но и взаимосвязей. 
- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации

подойдет СУБД ключ-значение, где ключ - это идентификатор, а значение - имя клиента
- Отношения клиент-покупка для интернет-магазина

подойдет реляционная СУБД, так как у интернет-магазина много клиентов, много покупок, много товаров или услуг и каждая из этих сущностей обладает множеством свойств. То есть образуется множество связей и отношений, которые, во-первых, нужно фиксировать в момент покупки, а, во-вторых, проводить анализ продаж по различным срезам (по товару, возрасту клиента, времени совершения покупок) - и здесь SQL справится лучше. 



---

### Задание 2

согласно CAP-теореме:
- Данные записываются на все узлы с задержкой до часа (асинхронная запись) - AP - не гарантирует целостность данных, обеспечивая их доступность и устойчивость к разделению. Таким образом, AP-система может быть представлена кластером из нескольких узлов, каждый из которых может принимать данные, но не обязуется в тот же момент распространять их на другие сервера.
- При сетевых сбоях, система может разделиться на 2 раздельных кластера - CA -  когда данные во всех узлах кластера согласованы и доступны, но не устойчивы к разделению. Это означает, что реплики одной и той же информации, распределенные по разным серверам друг другу, не противоречат друг другу и любой запрос к распределённой системе завершается корректным откликом.
- Система может не прислать корректный ответ или сбросить соединение - CP - обеспечивается согласованность и устойчивость.

согласно PACELC-теореме:
- Данные записываются на все узлы с задержкой до часа (асинхронная запись) - PC/EC
- При сетевых сбоях, система может разделиться на 2 раздельных кластера - PA/EL
- Система может не прислать корректный ответ или сбросить соединение - PC/EC



---

### Задание 3

- Принципы BASE и ACID в одной системе сочетаться не могут, т.к. эти принципы противоречат друг другу.
  - ACID говорит о том, что транзакции атомарны, согласованны, изолированны и стойки к низкоуровнемым проблемам, гарантируя надежность и предсказуемость работы системы.
  - BASE гарантирует только базовую доступность и только в конечном итоге даёт согласованность данных, позволяя создавать высокопроизводительные системы.


---

### Задание 4

Redis - это СУБД типа key-value, которая может использоваться для реализации кэшей, брокеров сообщений (механизм pub/sub). Ориентирована на высокую производительность. В отличие от классических key-value систем позволяет хранить значения ключей не только в виде строк, но и в виде списков, хэш-таблиц, упорядоченных множеств. Redis хранит базу данных в опреативной памяти, из-за этого, если система не имеет реплик, возможны потери части данных при падении сервера, но Redis снабжена механизмами снимков и журналирования для обеспечения постоянного хранения (на дисках, твердотельных накопителях).

Минус системы репликации Redis в том, что сама по себе она не поддерживает автоматическую отказоустойчивость: если ведущий узел выходит из строя, необходимо вручную выбрать нового ведущего среди ведомых узлов. Но имеется система Redis Sentinel, обеспечивающая мониторинг и автоматическое переключение.

---
